# utility

## Linux

ANSI 转义序列（ANSI escape sequences）用于控制命令行终端中的文本样式、颜色和光标位置等效果。ANSI 转义序列以 ESC 字符 (`\033` 或 `\x1B`) 开头，后跟一个或多个命令代码。

### 常用 ANSI 转义序列

#### 1. **文本样式**

以下是一些用于控制文本样式的转义序列：

| 效果      | 转义序列  | 说明                   |
| --------- | --------- | ---------------------- |
| 重置      | `\033[0m` | 重置所有样式           |
| 粗体/加亮 | `\033[1m` | 粗体文本               |
| 暗色/减弱 | `\033[2m` | 减弱文本颜色           |
| 斜体      | `\033[3m` | 斜体文本               |
| 下划线    | `\033[4m` | 文本下划线             |
| 闪烁      | `\033[5m` | 使文本闪烁             |
| 反色      | `\033[7m` | 反色（背景和前景互换） |
| 隐藏      | `\033[8m` | 隐藏文本               |
| 删除线    | `\033[9m` | 文本中划线             |

#### 2. **前景色（文字颜色）**
使用 `\033[3Xm` 控制前景色（文字颜色），其中 `X` 为 0-7 的数字。

| 颜色 | ANSI 代码  | 说明           |
| ---- | ---------- | -------------- |
| 黑色 | `\033[30m` | 设置文字为黑色 |
| 红色 | `\033[31m` | 设置文字为红色 |
| 绿色 | `\033[32m` | 设置文字为绿色 |
| 黄色 | `\033[33m` | 设置文字为黄色 |
| 蓝色 | `\033[34m` | 设置文字为蓝色 |
| 紫色 | `\033[35m` | 设置文字为紫色 |
| 青色 | `\033[36m` | 设置文字为青色 |
| 白色 | `\033[37m` | 设置文字为白色 |

#### 3. **背景色**
使用 `\033[4Xm` 控制背景色，其中 `X` 为 0-7 的数字。

| 颜色 | ANSI 代码  | 说明           |
| ---- | ---------- | -------------- |
| 黑色 | `\033[40m` | 设置背景为黑色 |
| 红色 | `\033[41m` | 设置背景为红色 |
| 绿色 | `\033[42m` | 设置背景为绿色 |
| 黄色 | `\033[43m` | 设置背景为黄色 |
| 蓝色 | `\033[44m` | 设置背景为蓝色 |
| 紫色 | `\033[45m` | 设置背景为紫色 |
| 青色 | `\033[46m` | 设置背景为青色 |
| 白色 | `\033[47m` | 设置背景为白色 |

#### 4. **亮色（高亮颜色）**
可以通过使用前景色和背景色的高亮变体来设置亮色效果。

- 高亮前景色：使用 `\033[9Xm`
- 高亮背景色：使用 `\033[10Xm`

| 颜色 | 高亮前景色代码 | 高亮背景色代码 |
| ---- | -------------- | -------------- |
| 黑色 | `\033[90m`     | `\033[100m`    |
| 红色 | `\033[91m`     | `\033[101m`    |
| 绿色 | `\033[92m`     | `\033[102m`    |
| 黄色 | `\033[93m`     | `\033[103m`    |
| 蓝色 | `\033[94m`     | `\033[104m`    |
| 紫色 | `\033[95m`     | `\033[105m`    |
| 青色 | `\033[96m`     | `\033[106m`    |
| 白色 | `\033[97m`     | `\033[107m`    |

#### 5. **光标控制**
ANSI 转义序列也可以用来控制光标在终端中的位置：

| 功能               | 转义序列            | 说明                     |
| ------------------ | ------------------- | ------------------------ |
| 光标上移           | `\033[{N}A`         | 光标上移 N 行            |
| 光标下移           | `\033[{N}B`         | 光标下移 N 行            |
| 光标右移           | `\033[{N}C`         | 光标右移 N 列            |
| 光标左移           | `\033[{N}D`         | 光标左移 N 列            |
| 光标移动到指定位置 | `\033[{ROW};{COL}H` | 将光标移动到指定的行和列 |
| 清除光标后的内容   | `\033[0J`           | 清除从光标到行尾的内容   |
| 清除光标前的内容   | `\033[1J`           | 清除从行首到光标的内容   |
| 清除整行           | `\033[2J`           | 清除整个屏幕的内容       |
| 保存光标位置       | `\033[s`            | 保存当前光标位置         |
| 恢复光标位置       | `\033[u`            | 恢复到保存的光标位置     |

#### 6. **其他功能**
ANSI 转义序列还可以控制其他终端行为：

| 功能       | 转义序列              | 说明                         |
| ---------- | --------------------- | ---------------------------- |
| 隐藏光标   | `\033[?25l`           | 隐藏光标                     |
| 显示光标   | `\033[?25h`           | 显示光标                     |
| 滚动窗口   | `\033[{start};{end}r` | 设置滚动区域的起始行和结束行 |
| 清除当前行 | `\033[2K`             | 清除光标所在行               |

### 示例
以下是一个简单的使用 ANSI 转义序列设置文本颜色和样式的 C++ 代码：

```cpp
#include <iostream>

int main() {
    // 设置红色文本，粗体
    std::cout << "\033[1;31m" << "这是粗体红色文本" << "\033[0m" << std::endl;

    // 设置蓝色背景，白色前景
    std::cout << "\033[44;37m" << "这是蓝色背景白色前景" << "\033[0m" << std::endl;

    // 恢复默认样式
    std::cout << "这是普通文本" << std::endl;

    return 0;
}
```

在这个例子中：
- `\033[1;31m` 设置文本为粗体红色。
- `\033[44;37m` 设置文本为蓝色背景和白色前景。
- `\033[0m` 重置所有格式。
